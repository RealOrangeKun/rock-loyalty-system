@if ( loading ) {
<app-alert [message]="loadingMessage"></app-alert>
}

<div class="container">
  <div
    class="row mx-2 flex-column gap-4 main-page align-items-center justify-content-center"
  >
    <div class="col-lg-5 col-md-6 col-12 partition-shadow rounded-4 p-4">
      <h2 class="text-center d-flex justify-content-between align-items-center">
        <div class=""><i class="bi bi-currency-exchange"></i> Balance</div>
        {{ points }}
      </h2>
      <hr />
      <h3 class="text-center">
        <span style="font-weight: 300">Create</span> voucher
      </h3>

      <div class="row pb-3">
        <div class="col-12">
          <div class="d-flex align-items-center gap-3">
            <div class="w-100">
              <label for="form-label">points</label>
              <input
                type="number"
                class="form-control"
                name="from"
                id=""
                aria-describedby="helpId"
                placeholder="0"
                [(ngModel)]="from"
                (input)="fromTyping()"
              />
            </div>

            <i class="bi bi-arrow-left-right mt-4"></i>

            <div class="w-100">
              <label for="form-label">egp</label>
              <input
                type="number"
                class="form-control"
                name="to"
                id=""
                [(ngModel)]="to"
                aria-describedby="helpId"
                placeholder="0"
                (input)="toTyping()"
              />
            </div>
          </div>
        </div>
      </div>
      <div class="row mb-3 pt-2">
        <div class="col-12">
          <h5 class="text-center">
            <span style="font-weight: 300">Exchange</span> rate
          </h5>
          <table class="table">
            <tbody>
              <tr>
                <td>50 points</td>
                <td class="icon-cell"><i class="bi bi-arrows"></i></td>
                <td>{{ exchangeRate * 50 }} L.E</td>
              </tr>
              <tr>
                <td>100 points</td>
                <td class="icon-cell"><i class="bi bi-arrows"></i></td>
                <td>{{ exchangeRate * 100 }} L.E</td>
              </tr>
              <tr>
                <td>200 points</td>
                <td class="icon-cell"><i class="bi bi-arrows"></i></td>
                <td>{{ exchangeRate * 200 }} L.E</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="text-center mb-3" style="font-size: 0.9rem">
        <span style="color: red">Warning :</span> Vouchers expire in
        {{ lifeTime }} minutes <br />
        after creating the voucher
      </div>
      <button
        class="btn btn-primary w-100"
        (click)="onSubmit()"
        [disabled]="!valid"
      >
        Submit
      </button>
    </div>
  </div>
</div>
